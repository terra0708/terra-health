"AcÄ±masÄ±z akÄ±l hocan" olarak sÃ¶ylÃ¼yorum: Bu dÃ¶kÃ¼man senin "gÃ¼venlik anayasan" olacak. GeliÅŸtirme ortamÄ±nda HTTPS kullanmak, sadece bir lÃ¼ks deÄŸil; hedeflediÄŸimiz Cookie-tabanlÄ± kimlik doÄŸrulama mimarisinin Ã§alÄ±ÅŸmasÄ± iÃ§in bir Ã¶n koÅŸuldur.

AÅŸaÄŸÄ±da, hem Spring Boot (Java 25) hem de React (Vite) iÃ§in adÄ±m adÄ±m HTTPS kurulum rehberi yer alÄ±yor.

ğŸ›¡ï¸ AdÄ±m 1: Yerel SertifikalarÄ±n OluÅŸturulmasÄ± (mkcert)
TarayÄ±cÄ±nÄ±n "GÃ¼venli DeÄŸil" uyarÄ±sÄ± vermemesi iÃ§in mkcert kullanacaÄŸÄ±z. Bu araÃ§, bilgisayarÄ±nÄ± yerel bir sertifika otoritesi yapar.

mkcert YÃ¼kle:

Windows (Choco): choco install mkcert

Mac (Homebrew): brew install mkcert

Kurulumu Yap: mkcert -install (Bu komutu bir kez Ã§alÄ±ÅŸtÄ±rman yeterli).

SertifikalarÄ± Ãœret: Projenin ana dizininde (veya bir certs/ klasÃ¶rÃ¼nde) ÅŸu komutu Ã§alÄ±ÅŸtÄ±r:

Bash
mkcert localhost 127.0.0.1 ::1
SonuÃ§ta iki dosya oluÅŸacak: localhost.pem (sertifika) ve localhost-key.pem (Ã¶zel anahtar).

â˜• AdÄ±m 2: Spring Boot (Backend) YapÄ±landÄ±rmasÄ±
Spring Boot, .pem dosyalarÄ±nÄ± doÄŸrudan okumak yerine genellikle bir Keystore dosyasÄ± (.p12) bekler.

2.1. Keystore OluÅŸturma
Terminalde ÅŸu komutla .pem dosyalarÄ±nÄ± Spring'in anlayacaÄŸÄ± formatta birleÅŸtir:

Bash
openssl pkcs12 -export -in localhost.pem -inkey localhost-key.pem -out keystore.p12 -name localhost -CAfile $(mkcert -CAROOT)/rootCA.pem -caname rootCA
Åifre: Ä°stendiÄŸinde basit bir ÅŸifre belirle (Ã¶rn: password).

2.2. application.yaml GÃ¼ncellemesi
keystore.p12 dosyasÄ±nÄ± src/main/resources altÄ±na kopyala ve ayarlarÄ± yap:

YAML
server:
  port: 8443
  ssl:
    enabled: true
    key-store: classpath:keystore.p12
    key-store-password: password # BelirlediÄŸin ÅŸifre
    key-store-type: PKCS12
    key-alias: localhost

app:
  cookie:
    secure: true # ArtÄ±k dev ortamÄ±nda da true!
âš›ï¸ AdÄ±m 3: React / Vite (Frontend) YapÄ±landÄ±rmasÄ±
Vite tarafÄ±nda sertifikalarÄ± vite.config.js dosyasÄ±na tanÄ±tman yeterlidir.

3.1. vite.config.js GÃ¼ncellemesi
JavaScript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import fs from 'fs';

export default defineConfig({
  plugins: [react()],
  server: {
    port: 5173,
    https: {
      key: fs.readFileSync('./localhost-key.pem'),
      cert: fs.readFileSync('./localhost.pem'),
    },
    proxy: {
      '/api': {
        target: 'https://localhost:8443', // Backend HTTPS portu
        changeOrigin: true,
        secure: false, // Self-signed sertifika iÃ§in dev ortamÄ±nda false kalabilir
      }
    }
  }
});
3.2. .env.development GÃ¼ncellemesi
API URL'ini HTTPS protokolÃ¼ne Ã§ek:

Kod snippet'i
VITE_API_URL=https://localhost:8443/api
âš ï¸ Kritik UyarÄ±lar
[!CAUTION] .gitignore KontrolÃ¼: ÃœrettiÄŸin .pem, -key.pem ve keystore.p12 dosyalarÄ±nÄ± sakÄ±n GitHub'a push'lama! .gitignore dosyana ÅŸu satÄ±rlarÄ± ekle:

Plaintext
*.pem
*.p12
TarayÄ±cÄ± Yenileme: AyarlarÄ± yaptÄ±ktan sonra tarayÄ±cÄ±yÄ± tamamen kapatÄ±p aÃ§man gerekebilir.

Cookie KontrolÃ¼: ArtÄ±k tarayÄ±cÄ±nÄ±n Application -> Cookies sekmesinde accessToken ve refreshToken Ã§erezlerinin yanÄ±nda "Secure" iÅŸaretinin (tik) olduÄŸunu gÃ¶receksin.